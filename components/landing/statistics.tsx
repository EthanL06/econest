"use client";

import React, { useEffect, useRef } from "react";
import { Separator } from "../ui/separator";
import {
  ArrowDown,
  ChevronDown,
  Factory,
  Home,
  Sprout,
  TreeDeciduous,
  UtilityPole,
} from "lucide-react";
import { useInView } from "framer-motion";

type Props = {};

const Statistics = (props: Props) => {
  const svgRef = useRef<SVGSVGElement>(null);
  const svgUnderlineRef = useRef<SVGSVGElement>(null);
  const isInView = useInView(svgRef);

  useEffect(() => {
    if (isInView) {
      // Wait 0.5 seconds before animating
      setTimeout(() => {
        svgRef.current?.setAttribute("id", "sustainable-text");
        svgUnderlineRef.current?.setAttribute("id", "svg-underline");
      }, 500);
    }
  }, [isInView]);

  return (
    <div
      className="stylized-green-background flex min-h-screen  flex-col items-center border-b-[10px] border-[#46c374] px-4 text-white
      sm:px-8"
    >
      <div className="flex w-full max-w-3xl flex-col items-center text-center">
        <div className=" mb-1 text-center text-xl font-black text-emerald-900">
          The Statistics
          <Separator className="h-[3px] rounded-full bg-emerald-900" />
        </div>

        <div className="text-5xl font-bold">
          ecoNest By The <span className="text-emerald-900">Numbers</span>
        </div>
      </div>

      <div className="flex flex-col items-center">
        <Stat number="10+" description="Years of Expertise">
          <Sprout className="size-20 rounded-full bg-emerald-900 p-3 text-white" />
        </Stat>
        <Stat number="1.5M+" description="Metric Tons of CO2 Reduced">
          <TreeDeciduous className="size-20 rounded-full bg-emerald-900 p-3 text-white" />
        </Stat>

        <Stat number="50k+" description="Green Homes">
          <Home className="size-20 overflow-visible rounded-full bg-emerald-900 p-4 text-white" />
        </Stat>

        <div className="flex h-screen flex-col items-center justify-center gap-x-[1ch] text-center text-3xl font-bold sm:h-[100vh]">
          We help make your home more...
          <svg
            ref={svgRef}
            className="h-[9rem] w-full max-w-4xl sm:h-[15rem]"
            width="228"
            height="55"
            viewBox="0 0 228 55"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              data-index="11"
              d="M221.7 22.3281C225.764 22.3281 227.796 23.9441 227.796 27.1761C227.796 29.1921 226.836 30.7281 224.916 31.7841C223.028 32.8081 220.324 33.3361 216.804 33.3681C216.74 34.5201 216.708 35.4321 216.708 36.1041C216.708 37.5441 217.028 38.6161 217.668 39.3201C218.34 39.9921 219.172 40.3281 220.164 40.3281C221.156 40.3281 222.052 40.1361 222.852 39.7521C223.684 39.3681 224.34 38.9201 224.82 38.4081C225.3 37.8641 225.716 37.3041 226.068 36.7281C226.708 35.6721 227.028 35.0001 227.028 34.7121L227.892 35.0961C227.796 35.6081 227.508 36.2961 227.028 37.1601C226.548 37.9921 226.02 38.6801 225.444 39.2241C224.868 39.7681 224.02 40.2801 222.9 40.7601C221.78 41.2081 220.532 41.4321 219.156 41.4321C216.564 41.4321 214.596 40.8241 213.252 39.6081C211.94 38.3601 211.284 36.6641 211.284 34.5201C211.284 30.7121 212.228 27.7361 214.116 25.5921C216.004 23.4161 218.532 22.3281 221.7 22.3281ZM226.596 27.1761C226.596 26.1201 226.276 25.2561 225.636 24.5841C225.028 23.8801 224.1 23.5281 222.852 23.5281C221.636 23.5281 220.436 24.2641 219.252 25.7361C218.1 27.2081 217.332 29.3841 216.948 32.2641C223.38 32.2321 226.596 30.5361 226.596 27.1761Z"
            />
            <path
              data-index="10"
              d="M206.757 39.272C206.341 39.816 205.765 40.312 205.029 40.76C204.325 41.208 203.397 41.432 202.245 41.432C201.093 41.432 200.117 41.064 199.317 40.328C198.517 39.592 198.117 38.552 198.117 37.208C198.117 36.952 198.149 36.536 198.213 35.96L201.333 18.68C201.909 15.512 202.693 13.256 203.685 11.912C204.709 10.568 206.053 9.896 207.717 9.896C208.869 9.896 209.813 10.328 210.549 11.192C211.317 12.056 211.701 13.368 211.701 15.128C211.701 16.888 211.013 19.4 209.637 22.664C208.293 25.928 207.621 28.312 207.621 29.816H206.757C206.757 28.12 207.429 25.704 208.773 22.568C210.117 19.4 210.789 16.872 210.789 14.984C210.789 13.832 210.517 12.84 209.973 12.008C209.461 11.176 208.821 10.76 208.053 10.76C208.021 11.592 207.461 15.336 206.373 21.992C205.317 28.616 204.261 34.776 203.205 40.472C204.101 40.472 204.933 40.008 205.701 39.08C206.469 38.152 207.013 37.224 207.333 36.296L207.861 34.856L208.725 35.24C208.629 35.688 208.373 36.344 207.957 37.208C207.573 38.04 207.173 38.728 206.757 39.272Z"
            />
            <path
              data-index="9"
              d="M184.584 41.432C182.568 41.432 181.096 40.76 180.168 39.416L176.136 42.296H175.224L180.6 10.856C179.64 10.952 178.84 11.4 178.2 12.2L177.48 11.624C178.44 10.472 179.64 9.896 181.08 9.896C182.552 9.896 183.688 10.264 184.488 11C185.288 11.736 185.688 12.776 185.688 14.12C185.688 14.376 185.656 14.792 185.592 15.368C185.08 18.216 184.456 21.64 183.72 25.64C185.064 23.464 186.808 22.376 188.952 22.376C191.096 22.376 192.744 23 193.896 24.248C195.048 25.464 195.624 27.144 195.624 29.288C195.624 33.064 194.6 36.04 192.552 38.216C190.504 40.36 187.848 41.432 184.584 41.432ZM184.248 40.136C186.008 40.136 187.432 38.92 188.52 36.488C189.64 34.024 190.2 30.968 190.2 27.32C190.2 25.848 190.04 24.84 189.72 24.296C189.432 23.752 188.888 23.48 188.088 23.48C187.288 23.48 186.456 23.96 185.592 24.92C184.76 25.88 184.152 26.792 183.768 27.656C183.384 28.488 183.192 28.968 183.192 29.096H183.096C182.296 33.288 181.704 36.456 181.32 38.6C181.864 39.624 182.84 40.136 184.248 40.136Z"
            />
            <path
              data-index="8"
              d="M169.542 41.4321C166.726 41.4321 165.19 40.2001 164.934 37.7361C163.526 40.2001 161.75 41.4321 159.606 41.4321C157.462 41.4321 155.75 40.7921 154.47 39.5121C153.222 38.2001 152.598 36.3761 152.598 34.0401C152.598 30.3921 153.494 27.5281 155.286 25.4481C157.078 23.3681 159.398 22.3281 162.246 22.3281C164.582 22.3281 166.134 23.4321 166.902 25.6401C167.062 24.6801 167.238 23.7201 167.43 22.7601C169.798 22.7601 171.558 22.6641 172.71 22.4721L173.334 22.3281L170.022 40.4721C170.982 40.3761 171.782 39.9281 172.422 39.1281L173.142 39.7041C172.182 40.8561 170.982 41.4321 169.542 41.4321ZM158.022 36.4881C158.022 37.9281 158.198 38.9361 158.55 39.5121C158.934 40.0561 159.51 40.3281 160.278 40.3281C161.046 40.3281 161.83 39.9121 162.63 39.0801C163.686 37.9921 164.534 36.6161 165.174 34.9521C165.27 34.5361 165.446 33.5441 165.702 31.9761C165.99 30.3761 166.23 29.0641 166.422 28.0401C166.326 26.8241 165.99 25.7681 165.414 24.8721C164.838 23.9761 164.118 23.5281 163.254 23.5281C161.686 23.5281 160.422 24.9361 159.462 27.7521C158.502 30.5361 158.022 33.4481 158.022 36.4881Z"
            />
            <path
              data-index="7"
              d="M147.221 40.4721C147.989 40.4721 148.789 40.0241 149.621 39.1281L150.341 39.7041C150.117 40.1521 149.621 40.5521 148.853 40.9041C148.085 41.2561 147.237 41.4321 146.309 41.4321C143.397 41.4321 141.941 40.1201 141.941 37.4961C141.941 36.3761 142.229 34.3761 142.805 31.4961C143.381 28.6161 143.669 26.7281 143.669 25.8321C143.669 24.4561 143.013 23.7681 141.701 23.7681C140.645 23.7681 139.621 24.4561 138.629 25.8321C137.669 27.2081 136.869 29.0961 136.229 31.4961L134.597 40.4721C135.589 40.3761 136.405 39.9281 137.045 39.1281L137.765 39.7041C136.805 40.8561 135.605 41.4321 134.165 41.4321C132.725 41.4321 131.589 41.0641 130.757 40.3281C129.957 39.5921 129.557 38.6321 129.557 37.4481C129.557 37.0001 129.813 35.2401 130.325 32.1681L131.909 23.2881C130.949 23.3841 130.149 23.8321 129.509 24.6321L128.789 24.0561C129.749 22.9041 130.949 22.3281 132.389 22.3281C133.861 22.3281 134.997 22.6961 135.797 23.4321C136.597 24.1681 136.997 25.2081 136.997 26.5521V26.8401C138.309 23.8321 140.357 22.3281 143.141 22.3281C145.029 22.3281 146.501 22.8721 147.557 23.9601C148.613 25.0161 149.141 26.4881 149.141 28.3761C149.141 29.3681 148.837 31.2881 148.229 34.1361C147.621 36.9521 147.285 39.0641 147.221 40.4721Z"
            />
            <path
              data-index="6"
              d="M125.9 39.7041C124.94 40.8561 123.74 41.4321 122.3 41.4321C120.86 41.4321 119.724 41.0641 118.892 40.3281C118.092 39.5921 117.692 38.6321 117.692 37.4481C117.692 37.0321 117.948 35.2881 118.46 32.2161L120.044 23.6241H118.028L118.124 22.7601H120.188C122.556 22.7601 124.3 22.6641 125.42 22.4721L126.092 22.3281L122.78 40.4721C123.74 40.3761 124.54 39.9281 125.18 39.1281L125.9 39.7041ZM121.676 17.7201C121.004 17.0481 120.668 16.2321 120.668 15.2721C120.668 14.3121 121.004 13.4961 121.676 12.8241C122.348 12.1201 123.164 11.7681 124.124 11.7681C125.084 11.7681 125.9 12.1201 126.572 12.8241C127.276 13.4961 127.628 14.3121 127.628 15.2721C127.628 16.2321 127.276 17.0481 126.572 17.7201C125.9 18.3921 125.084 18.7281 124.124 18.7281C123.164 18.7281 122.348 18.3921 121.676 17.7201Z"
            />
            <path
              data-index="5"
              d="M110.714 41.4321C107.898 41.4321 106.362 40.2001 106.106 37.7361C104.698 40.2001 102.922 41.4321 100.778 41.4321C98.6335 41.4321 96.9215 40.7921 95.6415 39.5121C94.3935 38.2001 93.7695 36.3761 93.7695 34.0401C93.7695 30.3921 94.6655 27.5281 96.4575 25.4481C98.2495 23.3681 100.57 22.3281 103.418 22.3281C105.754 22.3281 107.306 23.4321 108.074 25.6401C108.234 24.6801 108.41 23.7201 108.602 22.7601C110.97 22.7601 112.73 22.6641 113.882 22.4721L114.506 22.3281L111.194 40.4721C112.154 40.3761 112.954 39.9281 113.594 39.1281L114.314 39.7041C113.354 40.8561 112.154 41.4321 110.714 41.4321ZM99.1935 36.4881C99.1935 37.9281 99.3695 38.9361 99.7215 39.5121C100.106 40.0561 100.682 40.3281 101.45 40.3281C102.218 40.3281 103.002 39.9121 103.802 39.0801C104.858 37.9921 105.706 36.6161 106.346 34.9521C106.442 34.5361 106.618 33.5441 106.874 31.9761C107.162 30.3761 107.402 29.0641 107.594 28.0401C107.498 26.8241 107.162 25.7681 106.586 24.8721C106.01 23.9761 105.29 23.5281 104.426 23.5281C102.858 23.5281 101.594 24.9361 100.634 27.7521C99.6735 30.5361 99.1935 33.4481 99.1935 36.4881Z"
            />
            <path
              data-index="4"
              d="M81.2767 22.7601L82.5727 15.6561C84.9407 15.6561 86.7007 15.5601 87.8527 15.3681L88.4767 15.2241C88.0287 17.4641 87.5327 19.9761 86.9887 22.7601H92.9407L92.8447 23.6241H86.8447C85.2447 31.8801 84.4447 36.8561 84.4447 38.5521C84.4447 39.5761 84.9887 40.0881 86.0767 40.0881C87.1647 40.0881 88.1567 39.4001 89.0527 38.0241C89.9487 36.6481 90.5887 35.1601 90.9727 33.5601L91.8367 33.8481C90.6527 38.9041 88.2047 41.4321 84.4927 41.4321C82.9567 41.4321 81.6767 41.0161 80.6527 40.1841C79.6287 39.3201 79.1167 38.1361 79.1167 36.6321C79.1167 35.0961 79.7727 30.7601 81.0847 23.6241H78.7327L78.8287 22.7601H81.2767Z"
            />
            <path
              data-index="3"
              d="M65.3752 40.1841C68.5432 40.1841 70.1272 37.8481 70.1272 33.1761C70.1272 32.0241 69.9512 30.6641 69.5992 29.0961C69.2792 27.5281 69.0872 26.5521 69.0232 26.1681C67.0712 28.1841 64.8792 29.4001 62.4472 29.8161V28.6641C64.7512 28.1521 66.9112 26.8401 68.9272 24.7281V24.5361C68.9272 23.7681 69.0392 23.0161 69.2632 22.2801C69.4872 21.5441 69.7112 21.0001 69.9352 20.6481L70.2712 20.1201H71.4232C71.4232 21.5281 71.6472 22.8241 72.0952 24.0081C72.5432 25.1601 73.0392 26.1041 73.5832 26.8401C74.1272 27.5441 74.6232 28.4881 75.0712 29.6721C75.5192 30.8241 75.7432 32.1041 75.7432 33.5121C75.7432 35.7841 74.8792 37.6721 73.1512 39.1761C71.4552 40.6801 69.4072 41.4321 67.0072 41.4321C64.6072 41.4321 62.7832 40.8881 61.5352 39.8001C60.3192 38.7121 59.7112 37.4641 59.7112 36.0561C59.7112 34.6161 60.0632 33.5921 60.7672 32.9841C61.4712 32.3441 62.3032 32.0241 63.2632 32.0241C64.2232 32.0241 65.0072 32.3441 65.6152 32.9841C66.2552 33.5921 66.5752 34.3921 66.5752 35.3841C66.5752 36.3441 66.2712 37.1601 65.6632 37.8321C65.0552 38.5041 64.2712 38.8401 63.3112 38.8401C62.8952 38.8401 62.4632 38.7761 62.0152 38.6481C62.7192 39.6721 63.8392 40.1841 65.3752 40.1841Z"
            />
            <path
              data-index="2"
              d="M39.8861 23.2881C39.1181 23.2881 38.3181 23.7361 37.4861 24.6321L36.7661 24.0561C36.9901 23.6081 37.4861 23.2081 38.2541 22.8561C39.0221 22.5041 39.8701 22.3281 40.7981 22.3281C43.7101 22.3281 45.1661 23.6401 45.1661 26.2641C45.1661 27.3841 44.8781 29.3841 44.3021 32.2641C43.7261 35.1441 43.4381 37.0321 43.4381 37.9281C43.4381 39.3041 44.0941 39.9921 45.4061 39.9921C46.3341 39.9921 47.2301 39.4481 48.0941 38.3601C48.9901 37.2721 49.7581 35.7681 50.3981 33.8481L52.4141 22.7601C54.7821 22.7601 56.5101 22.6641 57.5981 22.4721L58.2221 22.3281L55.0061 40.4721C55.9661 40.3761 56.7661 39.9281 57.4061 39.1281L58.1261 39.7041C57.1661 40.8561 55.9661 41.4321 54.5261 41.4321C53.0861 41.4321 51.9661 41.0801 51.1661 40.3761C50.3661 39.6721 49.9501 38.6801 49.9181 37.4001C48.5741 40.0881 46.5901 41.4321 43.9661 41.4321C42.0781 41.4321 40.6061 40.9041 39.5501 39.8481C38.4941 38.7601 37.9661 37.2721 37.9661 35.3841C37.9661 34.3921 38.2701 32.4881 38.8781 29.6721C39.4861 26.8241 39.8221 24.6961 39.8861 23.2881Z"
            />
            <path
              data-index="1"
              d="M14.832 50.3119C18.192 50.3119 20.8 49.6239 22.656 48.2479C24.544 46.8719 25.488 45.0479 25.488 42.7759C25.488 41.1439 25.072 39.7039 24.24 38.4559C23.44 37.2079 22.432 36.1839 21.216 35.3839C20 34.5519 18.752 33.7359 17.472 32.9359C16.224 32.1359 15.056 31.1279 13.968 29.9119C12.88 28.6959 12.16 27.3199 11.808 25.7839C8.896 24.9199 6.976 23.1119 6.048 20.3599C5.696 19.3039 5.52 18.1999 5.52 17.0479C5.52 15.8959 5.696 14.6959 6.048 13.4479C6.784 10.9839 7.984 9.12788 9.648 7.87988L10.176 8.64788C8.672 9.73588 7.584 11.4319 6.912 13.7359C6.592 14.8879 6.432 15.9919 6.432 17.0479C6.432 18.1039 6.592 19.1119 6.912 20.0719C7.68 22.4079 9.264 23.9759 11.664 24.7759C11.6 24.4239 11.568 23.8799 11.568 23.1439C11.568 18.9519 13.088 15.5599 16.128 12.9679C19.168 10.3759 22.88 9.07988 27.264 9.07988C30.144 9.07988 32.448 9.86388 34.176 11.4319C35.648 12.8079 36.384 14.5039 36.384 16.5199C36.384 18.5039 35.712 20.2319 34.368 21.7039C33.024 23.1439 31.216 23.8639 28.944 23.8639C27.696 23.8639 26.672 23.6239 25.872 23.1439C24.24 24.3919 22.304 25.2879 20.064 25.8319C20.704 26.4399 22.192 27.5599 24.528 29.1919C26.896 30.8239 28.656 32.3919 29.808 33.8959C30.992 35.3679 31.584 37.0959 31.584 39.0799C31.584 42.7279 30.16 45.6879 27.312 47.9599C24.496 50.2319 20.912 51.3679 16.56 51.3679C12.24 51.3679 8.976 50.4079 6.768 48.4879C4.848 46.8559 3.888 44.8559 3.888 42.4879C3.888 40.1519 4.64 38.1519 6.144 36.4879C7.68 34.7919 9.584 33.9439 11.856 33.9439C14.128 33.9439 15.808 34.4559 16.896 35.4799C17.984 36.4719 18.528 37.6879 18.528 39.1279C18.528 40.5679 18.08 41.8479 17.184 42.9679C16.32 44.0879 15.184 44.6479 13.776 44.6479C12.368 44.6479 11.248 44.1999 10.416 43.3039C9.648 42.5359 9.216 41.5759 9.12 40.4239C9.088 40.1039 9.088 39.9119 9.12 39.8479L10.032 39.8959C10 41.0159 10.352 41.9439 11.088 42.6799C11.696 43.3519 12.576 43.6879 13.728 43.6879C14.912 43.6879 15.856 43.2239 16.56 42.2959C17.264 41.3999 17.616 40.3599 17.616 39.1759C17.616 37.9599 17.2 36.9839 16.368 36.2479C15.44 35.3199 13.952 34.8559 11.904 34.8559C9.856 34.8559 8.16 35.6079 6.816 37.1119C5.472 38.5839 4.8 40.3599 4.8 42.4399C4.8 44.5519 5.664 46.3439 7.392 47.8159C8.416 48.7119 9.456 49.3519 10.512 49.7359C11.6 50.1199 13.04 50.3119 14.832 50.3119ZM22.992 17.2879C22.992 15.8799 23.344 14.7119 24.048 13.7839C24.784 12.8559 25.776 12.3919 27.024 12.3919C29.168 12.3919 30.24 13.5759 30.24 15.9439C30.24 18.2799 29.072 20.4879 26.736 22.5679C27.44 22.8879 28.176 23.0479 28.944 23.0479C30.928 23.0479 32.512 22.4079 33.696 21.1279C34.88 19.8159 35.472 18.2959 35.472 16.5679C35.472 14.8079 34.832 13.3199 33.552 12.1039C31.984 10.6959 29.92 9.99188 27.36 9.99188C24.8 9.99188 22.624 10.6159 20.832 11.8639C18.048 13.8479 16.656 16.4079 16.656 19.5439C16.656 22.1359 17.52 24.0239 19.248 25.2079C21.392 24.7279 23.376 23.8639 25.2 22.6159C23.728 21.3039 22.992 19.5279 22.992 17.2879ZM26.976 13.2559C26.016 13.2559 25.264 13.6239 24.72 14.3599C24.208 15.0959 23.952 16.0719 23.952 17.2879C23.952 19.3679 24.608 20.9519 25.92 22.0399C26.88 21.3679 27.68 20.4559 28.32 19.3039C28.96 18.1519 29.28 17.0159 29.28 15.8959C29.28 14.1359 28.512 13.2559 26.976 13.2559Z"
            />
          </svg>
          <svg
            ref={svgUnderlineRef}
            className="relative bottom-[5.5rem] hidden h-[15rem] w-full max-w-4xl -scale-y-100 sm:block"
            width="74"
            height="21"
            viewBox="0 0 74 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M9.7254 11.2438C10.4749 10.0804 11.9496 10.1518 13.1796 10.0896C15.327 9.98102 17.4896 10.0875 19.6223 10.3542C23.8195 10.879 27.9334 11.9928 32.0265 13.0259C39.6602 14.9526 47.4897 16.6668 55.3649 15.2101C59.8154 14.3869 63.8214 12.4005 67.373 9.63386C68.4391 8.80341 68.2447 6.97005 67.373 6.09833C66.3206 5.04594 64.9063 5.26571 63.8375 6.09833C50.2068 16.7163 32.6082 6.33347 17.7837 5.16928C13.4271 4.82715 8.06299 4.59923 5.40804 8.72026C3.66022 11.4332 7.98656 13.9429 9.7254 11.2438Z" />
          </svg>
        </div>
      </div>
    </div>
  );
};

const Stat = ({
  number,
  description,
  children,
}: {
  number: string;
  description: string;
  children: React.ReactNode;
}) => {
  return (
    <div className="flex h-[95vh] flex-col items-center justify-center">
      {children}
      <div className="mt-4 text-center text-6xl font-bold">{number}</div>
      <div className="text-center text-2xl font-semibold text-emerald-900">
        {description}
      </div>
    </div>
  );
};

export default Statistics;
